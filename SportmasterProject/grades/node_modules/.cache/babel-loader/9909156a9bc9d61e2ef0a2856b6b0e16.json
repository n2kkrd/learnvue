{"remainingRequest":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\src\\services\\RequestExecutor.js","dependencies":[{"path":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\src\\services\\RequestExecutor.js","mtime":1616343528364},{"path":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\babel.config.js","mtime":1614328697185},{"path":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684148679318},{"path":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\node_modules\\babel-loader\\lib\\index.js","mtime":1684148680274},{"path":"C:\\Users\\n2kn2\\OneDrive\\Рабочий стол\\Projects\\learnvue\\SportmasterProject\\grades\\node_modules\\eslint-loader\\index.js","mtime":1684148679586}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovKioNCiAqINCg0LXQsNC70LjQt9Cw0YbQuNGPIEhUVFAt0LrQu9C40LXQvdGC0LAgKNCy0LzQtdGB0YLQviBheGlvcykuDQogKiDQvNC10YLQvtC00Ys6IGdldCwgcG9zdCwgcHV0LCBkZWxldGUNCiAqIEB0aGlzIGJhc2VVcmwgLSDQsdCw0LfQvtCy0YvQuSB1cmwgLSBhcGkvKHJlc3QgcnBjIGN1cnNvcikvc2NoZW1hL3BhY2thZ2UvDQogKiBAdGhpcyBsb2FkaW5nTWFzayAtINGE0LvQsNCzLCDQstC60Lsv0LLRi9C60Lsg0LzQsNGB0LrRgw0KICovCmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKY29uc3QgSU5JVCA9IHsKICBoZWFkZXJzOiB7CiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIKICB9Cn07CmNsYXNzIFJlcXVlc3RFeGVjdXRvciB7CiAgLy9UT0RPOiBDYW5jZWwgcmVxdWVzdAogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5iYXNlVXJsID0gIiI7CiAgICB0aGlzLmxvYWRpbmdNYXNrID0gdHJ1ZTsgLy/QvtGC0LrQu9GO0YfQsNGC0YwsINC10YHQu9C4INC90LUg0YLRgNC10LHRg9C10YLRgdGPINCz0LvQvtCx0LDQu9GM0L3QsNGPINC80LDRgdC60LAKICAgIGNvbnNvbGUuaW5mbygiUmVxdWVzdCBFeGVjdXRvciBJbml0ISIpOwogIH0KCiAgLyoqDQogICAqIEdFVA0KICAgKg0KICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEVuZHBvaW50Lg0KICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSDQmtC+0LQsINC10YHQu9C4INC10YHRgtGMLg0KICAgKiBAcmV0dXJuIHtQcm9taXNlfQ0KICAgKi8KICBnZXQodXJsLCBjb2RlKSB7CiAgICByZXR1cm4gdGhpcy5leGVjdXRlKGNvZGUgPyB1cmwgKyAiLyIgKyBjb2RlIDogdXJsLCBmYWxzZSwgewogICAgICAuLi5JTklULAogICAgICBtZXRob2Q6ICJHRVQiCiAgICB9KTsKICB9CgogIC8qKg0KICAgKiBQT1NUDQogICAqDQogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgRW5kcG9pbnQuDQogICAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhINCe0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuC4g0JHRg9C00LXRgiDQv9C+0LzQtdGJ0ZHQvSDQsiDRgtC10LvQviDQt9Cw0L/RgNC+0YHQsC4NCiAgICogQHJldHVybiB7UHJvbWlzZX0NCiAgICovCiAgcG9zdCh1cmwsIGRhdGEpIHsKICAgIHJldHVybiB0aGlzLmV4ZWN1dGUodXJsLCBmYWxzZSwgewogICAgICAuLi5JTklULAogICAgICBtZXRob2Q6ICJQT1NUIgogICAgfSwgZGF0YSk7CiAgfQoKICAvKioNCiAgICogUFVUDQogICAqDQogICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgRW5kcG9pbnQuDQogICAqIEBwYXJhbSB7bnVtYmVyfSBjb2RlINCa0L7QtC4NCiAgICogQHBhcmFtIHtvYmplY3R9IGRhdGEg0J7QsdGK0LXQutGCINGBINC00LDQvdC90YvQvNC4LiDQkdGD0LTQtdGCINC/0L7QvNC10YnRkdC9INCyINGC0LXQu9C+INC30LDQv9GA0L7RgdCwLg0KICAgKiBAcmV0dXJuIHtQcm9taXNlfQ0KICAgKi8KICBwdXQodXJsLCBjb2RlLCBkYXRhKSB7CiAgICByZXR1cm4gdGhpcy5leGVjdXRlKHVybCArICIvIiArIGNvZGUsIGZhbHNlLCB7CiAgICAgIC4uLklOSVQsCiAgICAgIG1ldGhvZDogIlBVVCIKICAgIH0sIGRhdGEpOwogIH0KCiAgLyoqDQogICAqIERFTEVURQ0KICAgKg0KICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEVuZHBvaW50Lg0KICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSDQmtC+0LQuDQogICAqIEByZXR1cm4ge1Byb21pc2V9DQogICAqLwogIGRlbGV0ZSh1cmwsIGNvZGUpIHsKICAgIHJldHVybiB0aGlzLmV4ZWN1dGUodXJsICsgIi8iICsgY29kZSwgZmFsc2UsIHsKICAgICAgLi4uSU5JVCwKICAgICAgbWV0aG9kOiAiREVMRVRFIgogICAgfSk7CiAgfQoKICAvKioNCiAgICogRVhFQ1VURQ0KICAgKg0KICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEVuZHBvaW50Lg0KICAgKiBAcGFyYW0ge2Jvb2xlYW59IGV4YWN0INC90LUg0L/QvtC00YHRgtCw0LLQu9GP0YLRjCBiYXNlVXJsDQogICAqIEBwYXJhbSB7b2JqZWN0fSBpbml0INC/0LDRgNCw0LzQtdGC0YDRiyDQt9Cw0L/RgNC+0YHQsA0KICAgKiBAcGFyYW0ge29iamVjdH0gZGF0YSDRgtC10LvQviDQt9Cw0L/RgNC+0YHQsA0KICAgKiBAcmV0dXJuIHtQcm9taXNlfQ0KICAgKi8KICBhc3luYyBleGVjdXRlKHVybCwgZXhhY3QsIGluaXQsIGRhdGEpIHsKICAgIGlmICh0aGlzLmxvYWRpbmdNYXNrKSBzdG9yZS5jb21taXQoInNldElzTG9hZGluZyIsIHRydWUpOwogICAgdHJ5IHsKICAgICAgaWYgKGRhdGEpIGluaXQgPSB7CiAgICAgICAgLi4uaW5pdCwKICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKQogICAgICB9OwogICAgICBjb25zdCBsb2NhdGlvbiA9IGV4YWN0ID8gdXJsIDogdGhpcy5iYXNlVXJsICsgdXJsOwogICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGxvY2F0aW9uLCBpbml0KTsKICAgICAgLy9pZighcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcigiTmV0d29yayBlcnJvciEiKTsKCiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTsKICAgIH0gZmluYWxseSB7CiAgICAgIHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgZmFsc2UpOwogICAgfQogIH0KfQpleHBvcnQgZGVmYXVsdCBuZXcgUmVxdWVzdEV4ZWN1dG9yKCk7"},{"version":3,"names":["store","INIT","headers","RequestExecutor","constructor","baseUrl","loadingMask","console","info","get","url","code","execute","method","post","data","put","delete","exact","init","commit","body","JSON","stringify","location","response","fetch","json","error","Error"],"sources":["C:/Users/n2kn2/OneDrive/Рабочий стол/Projects/learnvue/SportmasterProject/grades/src/services/RequestExecutor.js"],"sourcesContent":["/**\r\n * Реализация HTTP-клиента (вместо axios).\r\n * методы: get, post, put, delete\r\n * @this baseUrl - базовый url - api/(rest rpc cursor)/schema/package/\r\n * @this loadingMask - флаг, вкл/выкл маску\r\n */\r\nimport store from '@/store'\r\n\r\nconst INIT = {\r\n    headers: {\r\n        \"Content-Type\": \"application/json;charset=utf-8\"\r\n    }\r\n};\r\n\r\nclass RequestExecutor {\r\n    //TODO: Cancel request\r\n    constructor() {\r\n        this.baseUrl = \"\";\r\n        this.loadingMask = true; //отключать, если не требуется глобальная маска\r\n        console.info(\"Request Executor Init!\");\r\n    }\r\n\r\n    /**\r\n     * GET\r\n     *\r\n     * @param {string} url Endpoint.\r\n     * @param {number} code Код, если есть.\r\n     * @return {Promise}\r\n     */\r\n    get(url, code) {return this.execute((code ? url + \"/\" + code : url), false, {...INIT, method: \"GET\"});}\r\n\r\n    /**\r\n     * POST\r\n     *\r\n     * @param {string} url Endpoint.\r\n     * @param {object} data Объект с данными. Будет помещён в тело запроса.\r\n     * @return {Promise}\r\n     */\r\n    post(url, data) {return this.execute(url, false, {...INIT, method: \"POST\"}, data);}\r\n\r\n    /**\r\n     * PUT\r\n     *\r\n     * @param {string} url Endpoint.\r\n     * @param {number} code Код.\r\n     * @param {object} data Объект с данными. Будет помещён в тело запроса.\r\n     * @return {Promise}\r\n     */\r\n    put(url, code, data) {return this.execute(url + \"/\" + code, false, {...INIT, method: \"PUT\"}, data);}\r\n\r\n    /**\r\n     * DELETE\r\n     *\r\n     * @param {string} url Endpoint.\r\n     * @param {number} code Код.\r\n     * @return {Promise}\r\n     */\r\n    delete(url, code) {return this.execute(url + \"/\" + code, false, {...INIT, method: \"DELETE\"});}\r\n\r\n    \r\n    /**\r\n     * EXECUTE\r\n     *\r\n     * @param {string} url Endpoint.\r\n     * @param {boolean} exact не подставлять baseUrl\r\n     * @param {object} init параметры запроса\r\n     * @param {object} data тело запроса\r\n     * @return {Promise}\r\n     */\r\n    async execute(url, exact, init, data) {\r\n        if(this.loadingMask) store.commit(\"setIsLoading\", true);\r\n\r\n        try {\r\n            if(data) init = {...init, body: JSON.stringify(data)};\r\n\r\n            const location = exact ? url : this.baseUrl + url;\r\n            const response = await fetch(location, init);\r\n            //if(!response.ok) throw new Error(\"Network error!\");\r\n\r\n            return await response.json();\r\n\r\n        } catch(error) {\r\n            console.error(error);\r\n            throw new Error(error);\r\n\r\n        } finally {\r\n            store.commit(\"setIsLoading\", false);\r\n        }\r\n    }\r\n}\r\n\r\nexport default new RequestExecutor();"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,SAAS;AAE3B,MAAMC,IAAI,GAAG;EACTC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC;AAED,MAAMC,eAAe,CAAC;EAClB;EACAC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,OAAO,GAAG,EAAE;IACjB,IAAI,CAACC,WAAW,GAAG,IAAI,CAAC,CAAC;IACzBC,OAAO,CAACC,IAAI,CAAC,wBAAwB,CAAC;EAC1C;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAE;IAAC,OAAO,IAAI,CAACC,OAAO,CAAED,IAAI,GAAGD,GAAG,GAAG,GAAG,GAAGC,IAAI,GAAGD,GAAG,EAAG,KAAK,EAAE;MAAC,GAAGT,IAAI;MAAEY,MAAM,EAAE;IAAK,CAAC,CAAC;EAAC;;EAEtG;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,IAAIA,CAACJ,GAAG,EAAEK,IAAI,EAAE;IAAC,OAAO,IAAI,CAACH,OAAO,CAACF,GAAG,EAAE,KAAK,EAAE;MAAC,GAAGT,IAAI;MAAEY,MAAM,EAAE;IAAM,CAAC,EAAEE,IAAI,CAAC;EAAC;;EAElF;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,GAAGA,CAACN,GAAG,EAAEC,IAAI,EAAEI,IAAI,EAAE;IAAC,OAAO,IAAI,CAACH,OAAO,CAACF,GAAG,GAAG,GAAG,GAAGC,IAAI,EAAE,KAAK,EAAE;MAAC,GAAGV,IAAI;MAAEY,MAAM,EAAE;IAAK,CAAC,EAAEE,IAAI,CAAC;EAAC;;EAEnG;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,MAAMA,CAACP,GAAG,EAAEC,IAAI,EAAE;IAAC,OAAO,IAAI,CAACC,OAAO,CAACF,GAAG,GAAG,GAAG,GAAGC,IAAI,EAAE,KAAK,EAAE;MAAC,GAAGV,IAAI;MAAEY,MAAM,EAAE;IAAQ,CAAC,CAAC;EAAC;;EAG7F;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,MAAMD,OAAOA,CAACF,GAAG,EAAEQ,KAAK,EAAEC,IAAI,EAAEJ,IAAI,EAAE;IAClC,IAAG,IAAI,CAACT,WAAW,EAAEN,KAAK,CAACoB,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC;IAEvD,IAAI;MACA,IAAGL,IAAI,EAAEI,IAAI,GAAG;QAAC,GAAGA,IAAI;QAAEE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;MAAC,CAAC;MAErD,MAAMS,QAAQ,GAAGN,KAAK,GAAGR,GAAG,GAAG,IAAI,CAACL,OAAO,GAAGK,GAAG;MACjD,MAAMe,QAAQ,GAAG,MAAMC,KAAK,CAACF,QAAQ,EAAEL,IAAI,CAAC;MAC5C;;MAEA,OAAO,MAAMM,QAAQ,CAACE,IAAI,CAAC,CAAC;IAEhC,CAAC,CAAC,OAAMC,KAAK,EAAE;MACXrB,OAAO,CAACqB,KAAK,CAACA,KAAK,CAAC;MACpB,MAAM,IAAIC,KAAK,CAACD,KAAK,CAAC;IAE1B,CAAC,SAAS;MACN5B,KAAK,CAACoB,MAAM,CAAC,cAAc,EAAE,KAAK,CAAC;IACvC;EACJ;AACJ;AAEA,eAAe,IAAIjB,eAAe,CAAC,CAAC"}]}